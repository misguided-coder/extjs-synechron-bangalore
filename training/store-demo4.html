<!DOCTYPE html>
<html>
<head>
<script src="js/lib/ext-all-debug.js">
</script>
<script>

	Ext.define('Syn.gbs.City',{
		extend : 'Ext.data.Model',
		fields : [
			{name:'city',type:'string'},
			{name:'population',type:'int'},
			{name:'weather',type:'int',defaultValue:20},
			{name:'vehicle',type:'int',defaultValue:50000}
		]		
	});

	var ajaxProxy = Ext.create('Ext.data.proxy.Ajax',{
		url : 'data/cities.json',
		reader : {
			type : 'json'
		}		
	});	

	var store0 = Ext.create('Ext.data.ArrayStore', {
		model : 'Syn.gbs.City',
		//autoLoad : true,
		proxy : ajaxProxy		
	});

	store0.load(function(){
		console.log("Data loaded successfully from server!!!!!");
		display(); 
	});
	

	//display(); 
	
	function display () {
		console.log("Length : "+store0.data.length);
		var len = store0.data.length;
		for(var idx=0;idx<len;idx++) {
			var obj = store0.data.items[idx];	
			document.write(`City Name : ${obj.get('city')}`);
			document.write("<br/>");
			document.write(`City Population : ${obj.get('population')}`);
			document.write("<br/>");
			document.write(`City Weather : ${obj.get('weather')}`);
			document.write("<br/>");
			document.write(`City Vehicles : ${obj.get('vehicle')}`);
			document.write("<br/>");
			document.write(`======================================`);
			document.write("<br/>");
		}	
	}

	
</script>
</head>
<body>
</body>
</html>
